// Initial products data
const initialProducts = [
    { id: 1, name: "Молоко", isActive: true },
    { id: 2, name: "Хлеб", isActive: true },
    { id: 3, name: "Яблоки", isActive: false },
    // ... остальные продукты остаются без изменений
];

// Load products from localStorage or use initial ones
let products;
try {
    const savedProducts = localStorage.getItem('shoppingProducts');
    products = savedProducts ? JSON.parse(savedProducts) : initialProducts;
} catch (error) {
    // Fallback if localStorage is not available
    products = initialProducts;
    console.error('LocalStorage not available:', error);
}

// Function to toggle product status
function toggleStatus(id) {
    products = products.map(product => {
        if (product.id === id) {
            product.isActive = !product.isActive;
        }
        return product;
    });

    // Save to localStorage
    try {
        localStorage.setItem('shoppingProducts', JSON.stringify(products));
    } catch (error) {
        console.error('Error saving to localStorage:', error);
    }
    
    renderProducts();
}

// В функции добавления нового продукта добавить:
// После добавления продукта в массив:
// Save to localStorage
try {
    localStorage.setItem('shoppingProducts', JSON.stringify(products));
} catch (error) {
    console.error('Error saving to localStorage:', error);
}
