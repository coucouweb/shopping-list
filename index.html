// Применяем анимацию перемещения для всех карточек
const cards = document.querySelectorAll('.product-card');
cards.forEach(card => {
    if (positions[card.dataset.id]) {
        const oldPosition = positions[card.dataset.id];
        const newPosition = card.getBoundingClientRect().top;
        const distance = oldPosition - newPosition;
        
        if (distance !== 0) {
            // Применяем начальное смещение
            card.style.transform = `translateY(${distance}px)`;
            card.style.opacity = '0.7';
            
            // Через небольшую задержку возвращаем на место с анимацией
            requestAnimationFrame(() => {
                card.style.transition = 'transform 0.5s ease-in-out, opacity 0.5s ease-in-out';
                card.style.transform = 'translateY(0)';
                card.style.opacity = '1';
                
                // Убираем transition после завершения анимации
                setTimeout(() => {
                    card.style.transition = '';
                }, 500);
            });
        }
    }
});
